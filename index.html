<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Washington Wine Country - Your Personal Wine Journey</title>
    <meta name="description" content="Plan the perfect wine trip through Washington State with personalized recommendations, interactive maps, and concierge-level service.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%238B0000'/><circle cx='50' cy='45' r='25' fill='none' stroke='%23D4AF37' stroke-width='3'/><path d='M35 45 Q50 25 65 45' fill='none' stroke='%23D4AF37' stroke-width='2'/></svg>">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Cormorant+Garamond:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Open Graph Tags for Social Sharing -->
    <meta property="og:title" content="Washington Wine Country Planner">
    <meta property="og:description" content="Plan your perfect Washington State wine adventure">
    <meta property="og:image" content="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&h=630&fit=crop">
    <meta property="og:url" content="https://your-site.netlify.app">
    <meta property="og:type" content="website">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Washington Wine Country</h1>
            <p>Your personalized concierge to the perfect wine adventure</p>
            <div class="header-admin">
                <button class="admin-link" onclick="showSection('admin')" title="Admin Access">⚙️</button>
            </div>
        </div>

        <!-- Welcome Section -->
        <div id="welcome" class="section active">
            <h2>Welcome to Your Wine Journey!</h2>
            <p>Discover Washington State's world-class wine regions through a personalized experience tailored just for you. Our intelligent concierge will craft the perfect itinerary based on your preferences, travel style, and interests.</p>
            
            <div class="feature-highlights">
                <div class="feature">
                    <h3>Personalized Recommendations</h3>
                    <p>Get winery suggestions based on your taste preferences and experience level</p>
                </div>
                <div class="feature">
                    <h3>Interactive Maps & Routes</h3>
                    <p>Visual trip planning with optimized routes and driving directions</p>
                </div>
                <div class="feature">
                    <h3>Personal Wine Journal</h3>
                    <p>Save favorites and capture your tasting notes for future reference</p>
                </div>
            </div>
            
            <div class="nav-buttons">
                <button class="btn btn-primary" onclick="startQuiz()">Begin Your Wine Adventure</button>
            </div>
        </div>

        <!-- Quiz Section -->
        <div id="quiz" class="section">
            <h2>Tell Us About Your Perfect Wine Experience</h2>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
                <span class="progress-text" id="progressText">Question 1 of 6</span>
            </div>
            <div id="quizContent"></div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn" style="display:none">Previous</button>
                <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn">Next</button>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results" class="section">
            <h2>Your Personalized Wine Itinerary</h2>
            <div class="itinerary-summary" id="itinerarySummary"></div>
            <div id="itineraryContent"></div>
            <div id="map"></div>
            <div id="recommendationsContent"></div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="showSection('quiz')">Modify Preferences</button>
                <button class="btn btn-primary" onclick="showSection('profile')">View My Profile</button>
                <button class="btn btn-primary" onclick="exportItinerary()">Export Itinerary</button>
            </div>
        </div>

        <!-- Profile Section -->
        <div id="profile" class="section">
            <h2>My Wine Journey Profile</h2>
            <div class="profile-section">
                <h3>My Preferences</h3>
                <div id="profilePreferences"></div>
            </div>
            <div class="profile-section">
                <h3>Favorite Wineries</h3>
                <div id="favoriteWineries"></div>
            </div>
            <div class="profile-section">
                <h3>My Tasting Notes</h3>
                <div id="tastingNotes"></div>
            </div>
            <div class="profile-stats">
                <h3>Journey Statistics</h3>
                <div id="profileStats"></div>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="showSection('results')">Back to Itinerary</button>
                <button class="btn btn-primary" onclick="exportProfile()">Export Profile</button>
                <button class="btn btn-secondary" onclick="clearProfile()">Reset Profile</button>
            </div>
        </div>

        <!-- Admin Section -->
        <div id="admin" class="section">
            <div id="adminLogin" class="admin-login">
                <h2>Admin Access</h2>
                <div class="login-form">
                    <div class="form-group">
                        <label for="adminUsername">Username:</label>
                        <input type="text" id="adminUsername" placeholder="Enter username">
                    </div>
                    <div class="form-group">
                        <label for="adminPassword">Password:</label>
                        <input type="password" id="adminPassword" placeholder="Enter password">
                    </div>
                    <div class="nav-buttons">
                        <button class="btn btn-primary" onclick="adminLogin()">Login</button>
                        <button class="btn btn-secondary" onclick="showSection('welcome')">Back</button>
                    </div>
                </div>
            </div>
            
            <div id="adminDashboard" class="admin-dashboard" style="display: none;">
                <h2>Admin Dashboard</h2>
                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="showAdminTab('wineries')">Wineries</button>
                    <button class="admin-tab" onclick="showAdminTab('restaurants')">Restaurants</button>
                    <button class="admin-tab" onclick="showAdminTab('hotels')">Hotels</button>
                </div>
                
                <div id="adminWineries" class="admin-content active">
                    <div class="admin-section-header">
                        <h3>Manage Wineries</h3>
                        <button class="btn btn-primary" onclick="addNewItem('winery')">Add New Winery</button>
                    </div>
                    <div id="wineriesAdmin" class="admin-items-list"></div>
                </div>
                
                <div id="adminRestaurants" class="admin-content">
                    <div class="admin-section-header">
                        <h3>Manage Restaurants</h3>
                        <button class="btn btn-primary" onclick="addNewItem('restaurant')">Add New Restaurant</button>
                    </div>
                    <div id="restaurantsAdmin" class="admin-items-list"></div>
                </div>
                
                <div id="adminHotels" class="admin-content">
                    <div class="admin-section-header">
                        <h3>Manage Hotels</h3>
                        <button class="btn btn-primary" onclick="addNewItem('hotel')">Add New Hotel</button>
                    </div>
                    <div id="hotelsAdmin" class="admin-items-list"></div>
                </div>
                
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="adminLogout()">Logout</button>
                    <button class="btn btn-primary" onclick="saveAdminChanges()">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Crafting your perfect wine journey...</p>
        </div>
    </div>

    <!-- Leaflet JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    
    <!-- Application JavaScript -->
    <script src="data/wineries.js"></script>
    <script src="js/app.js"></script>
</body>
</html>